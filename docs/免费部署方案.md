# è‡ªå»ºæœåŠ¡å™¨å…è´¹éƒ¨ç½²æ–¹æ¡ˆ

## ğŸ†“ å®Œå…¨å…è´¹éƒ¨ç½²æ¶æ„

### æŠ€æœ¯æ ˆ
- **å‰ç«¯**: å¾®ä¿¡å°ç¨‹åºï¼ˆå…è´¹ï¼‰
- **åç«¯**: Node.js + Expressï¼ˆå…è´¹ï¼‰
- **æœåŠ¡å™¨**: Vercel/Netlify/Railwayï¼ˆå…è´¹é¢åº¦ï¼‰
- **æ•°æ®åº“**: MongoDB Atlasï¼ˆå…è´¹512MBï¼‰
- **å­˜å‚¨**: è‡ªå·±çš„æœåŠ¡å™¨/ä¸ƒç‰›äº‘å…è´¹é¢åº¦
- **AIæŠ å›¾**: UÂ²-Netå¼€æºæ¨¡å‹ï¼ˆå®Œå…¨å…è´¹ï¼‰

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### 1. åç«¯æœåŠ¡å™¨éƒ¨ç½²ï¼ˆVercelï¼‰

```javascript
// api/remove-background.js
const express = require('express');
const multer = require('multer');
const axios = require('axios');

const app = express();
const upload = multer({ storage: multer.memoryStorage() });

// UÂ²-Netå¼€æºæŠ å›¾æ¨¡å‹API
app.post('/api/remove-background', upload.single('image'), async (req, res) => {
  try {
    // è°ƒç”¨è‡ªå»ºUÂ²-Netæ¨¡å‹
    const result = await callUNetModel(req.file.buffer);
    res.json({ success: true, processedImage: result });
  } catch (error) {
    res.json({ success: false, error: error.message });
  }
});

// å…è´¹æ¨èAPI
app.post('/api/recommend', async (req, res) => {
  const recommendations = generateRecommendations(req.body);
  res.json({ success: true, data: recommendations });
});

module.exports = app;
```

### 2. å…è´¹éƒ¨ç½²åˆ°Vercel

```json
// vercel.json
{
  "version": 2,
  "builds": [
    {
      "src": "api/**/*.js",
      "use": "@vercel/node"
    }
  ],
  "routes": [
    {
      "src": "/api/(.*)",
      "dest": "/api/$1"
    }
  ]
}
```

### 3. å¾®ä¿¡å°ç¨‹åºé…ç½®ä¿®æ”¹

```javascript
// app.js - ä¿®æ”¹ä¸ºè‡ªå»ºAPI
App({
  globalData: {
    apiBaseUrl: 'https://your-app.vercel.app/api'
  },
  
  // ä¿®æ”¹å›¾ç‰‡ä¸Šä¼ å‡½æ•°
  async uploadImage(filePath) {
    const res = await wx.uploadFile({
      url: `${this.globalData.apiBaseUrl}/remove-background`,
      filePath: filePath,
      name: 'image'
    });
    return JSON.parse(res.data);
  },
  
  // ä¿®æ”¹æ¨èå‡½æ•°
  async getRecommendations(params) {
    const res = await wx.request({
      url: `${this.globalData.apiBaseUrl}/recommend`,
      method: 'POST',
      data: params
    });
    return res.data;
  }
});
```

## ğŸ’° å®Œå…¨å…è´¹é¢åº¦

### Vercelå…è´¹é¢åº¦
- å¸¦å®½ï¼š100GB/æœˆ
- å‡½æ•°æ‰§è¡Œï¼š100,000æ¬¡/æœˆ
- å­˜å‚¨ç©ºé—´ï¼šæ— é™åˆ¶
- è‡ªå®šä¹‰åŸŸåï¼šæ”¯æŒ

### MongoDB Atlaså…è´¹é¢åº¦
- å­˜å‚¨ç©ºé—´ï¼š512MB
- æ•°æ®ä¼ è¾“ï¼š10GB/æœˆ
- è¿æ¥æ•°ï¼š500ä¸ªè¿æ¥

### UÂ²-Netå¼€æºæ¨¡å‹
- å®Œå…¨å…è´¹ä½¿ç”¨
- æ— è°ƒç”¨é™åˆ¶
- å¯è‡ªè¡Œä¼˜åŒ–

## ğŸ”§ æ›¿ä»£äº‘å‡½æ•°ä»£ç 

### è‡ªå»ºæŠ å›¾æœåŠ¡

```javascript
// services/backgroundRemoval.js
const tf = require('@tensorflow/tfjs-node');
const canvas = require('canvas');

class BackgroundRemoval {
  constructor() {
    this.model = null;
  }
  
  async loadModel() {
    // åŠ è½½UÂ²-Neté¢„è®­ç»ƒæ¨¡å‹
    this.model = await tf.loadLayersModel('https://path-to-unet-model/model.json');
  }
  
  async removeBackground(imageBuffer) {
    // å›¾åƒé¢„å¤„ç†
    const image = await this.preprocessImage(imageBuffer);
    
    // æ¨¡å‹æ¨ç†
    const mask = await this.model.predict(image);
    
    // åå¤„ç†ç”Ÿæˆé€æ˜èƒŒæ™¯
    return this.postprocessImage(image, mask);
  }
  
  async preprocessImage(buffer) {
    // å›¾åƒé¢„å¤„ç†é€»è¾‘
  }
  
  postprocessImage(image, mask) {
    // ç”Ÿæˆé€æ˜èƒŒæ™¯å›¾åƒ
  }
}

module.exports = new BackgroundRemoval();
```

### å…è´¹å­˜å‚¨æ–¹æ¡ˆ

```javascript
// services/storage.js
const fs = require('fs');
const path = require('path');

class FreeStorage {
  saveImage(filename, buffer) {
    const uploadDir = path.join(__dirname, '../uploads');
    if (!fs.existsSync(uploadDir)) {
      fs.mkdirSync(uploadDir, { recursive: true });
    }
    
    const filepath = path.join(uploadDir, filename);
    fs.writeFileSync(filepath, buffer);
    return `/uploads/${filename}`;
  }
  
  getPublicUrl(filename) {
    return `https://your-domain.com/uploads/${filename}`;
  }
}

module.exports = new FreeStorage();
```

## ğŸ“¦ éƒ¨ç½²å‘½ä»¤

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/your-repo/clothing-match-app.git
cd clothing-match-app

# 2. å®‰è£…ä¾èµ–
npm install

# 3. éƒ¨ç½²åˆ°Vercel
npm install -g vercel
vercel --prod

# 4. é…ç½®ç¯å¢ƒå˜é‡
vercel env add MONGODB_URI
vercel env add JWT_SECRET
```

## ğŸ¯ å…è´¹èµ„æºæ¨è

### æœåŠ¡å™¨éƒ¨ç½²å¹³å°
- **Vercel**: æœ€ä½³é€‰æ‹©ï¼ŒNode.jså‹å¥½
- **Netlify**: é™æ€ç«™ç‚¹ï¼Œé€‚åˆç®€å•API
- **Railway**: åŒ…å«æ•°æ®åº“ï¼Œä½†å…è´¹é¢åº¦æœ‰é™
- **Glitch**: å®æ—¶åä½œï¼Œé€‚åˆå¼€å‘æµ‹è¯•

### æ•°æ®åº“é€‰æ‹©
- **MongoDB Atlas**: æœ€å¥½çš„å…è´¹MongoDB
- **Supabase**: PostgreSQLï¼ŒåŒ…å«è®¤è¯
- **Firebase**: Googleäº§å“ï¼Œæ•´åˆåº¦é«˜
- **PlanetScale**: MySQLï¼Œæ€§èƒ½ä¼˜ç§€

### AIæ¨¡å‹é€‰æ‹©
- **UÂ²-Net**: å¼€æºï¼Œæ•ˆæœæœ€å¥½
- **MODNet**: è½»é‡çº§ï¼Œé€‚åˆç§»åŠ¨ç«¯
- **BackgroundMattingV2**: Googleå¼€æº
- **DeepLabV3**: Googleå¼€æºï¼Œé€šç”¨æ€§å¼º

## ğŸš¨ æ³¨æ„äº‹é¡¹

1. **å…è´¹é¢åº¦ç›‘æ§**: å®šæœŸæ£€æŸ¥ä½¿ç”¨é‡
2. **æ€§èƒ½ä¼˜åŒ–**: å›¾ç‰‡å‹ç¼©ï¼Œå‡å°‘å¸¦å®½
3. **æ•°æ®å¤‡ä»½**: å®šæœŸå¤‡ä»½é‡è¦æ•°æ®
4. **ç›‘æ§å‘Šè­¦**: è®¾ç½®æœåŠ¡å¼‚å¸¸é€šçŸ¥

## ğŸ”„ ä¸äº‘å¼€å‘çš„è¿ç§»

å¦‚æœä»äº‘å¼€å‘è¿ç§»åˆ°è‡ªå»ºï¼š

```javascript
// æ•°æ®è¿ç§»è„šæœ¬
const { MongoClient } = require('mongodb');

async function migrateFromCloudDevelopment() {
  // 1. å¯¼å‡ºäº‘å¼€å‘æ•°æ®
  const cloudData = await exportCloudData();
  
  // 2. è¿æ¥è‡ªå»ºæ•°æ®åº“
  const client = await MongoClient.connect(process.env.MONGODB_URI);
  const db = client.db('clothing-app');
  
  // 3. è¿ç§»æ•°æ®
  await db.collection('clothing').insertMany(cloudData.clothing);
  await db.collection('outfits').insertMany(cloudData.outfits);
  
  console.log('è¿ç§»å®Œæˆï¼');
}
```